{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;AAAe;AACf;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC1De;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACR+B;AACD;AACvB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AACxB,6BAA6B,+CAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kDAAS;AACnD;AACA;AACA;AACA,YAAY,kDAAS;AACrB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC7B+B;AACD;AACvB;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oBAAoB;AACd,yBAAyB,+CAAM;AACtC;AACA;AACA;AACA;AACA;AACA,oBAAoB,kDAAS;AAC7B;AACA;AACA;;;;;;;;;;;;;;;;;ACnBmE;AACN;AAC9C;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qEAAU;AAClC,6BAA6B,2EAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UCzBA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACN0B;AACQ;AAClC,kDAAS;AACT,uEAA8B;AAC9B,gBAAgB,oDAAK;AACrB","sources":["webpack://ts-webpack/./src/Rand.ts","webpack://ts-webpack/./src/modules/Module.ts","webpack://ts-webpack/./src/modules/general/LocationModule.ts","webpack://ts-webpack/./src/modules/geography/SizeModule.ts","webpack://ts-webpack/./src/realm/Realm.ts","webpack://ts-webpack/webpack/bootstrap","webpack://ts-webpack/webpack/runtime/define property getters","webpack://ts-webpack/webpack/runtime/hasOwnProperty shorthand","webpack://ts-webpack/webpack/runtime/make namespace object","webpack://ts-webpack/./src/index.ts"],"sourcesContent":["export default class Rand {\r\n    static generateSeed() {\r\n        // let arr: string[] = [];\r\n        // for (let i = 0; i < 3; i++) {\r\n        //   // Don't use a seeded value to generate the seed\r\n        //   arr.push(Data.words[Math.floor(Math.random() * Data.words.length)]);\r\n        // }\r\n        // Rand.seed = arr.join('-');\r\n        // Rand.seedRandomNumberGenerator();\r\n    }\r\n    static seedRandomNumberGenerator() {\r\n        let h = 1779033703 ^ Rand.seed.length;\r\n        for (var i = 0; i < Rand.seed.length; i++) {\r\n            h = Math.imul(h ^ Rand.seed.charCodeAt(i), 3432918353);\r\n            h = (h << 13) | (h >>> 19);\r\n        }\r\n        Rand.m_w = (123456789 + h) & Rand.mask;\r\n        Rand.m_z = (987654321 - h) & Rand.mask;\r\n    }\r\n    static next() {\r\n        return this.between(0, 1);\r\n    }\r\n    static between(min, max, floor = false) {\r\n        Rand.m_z = (36969 * (Rand.m_z & 65535) + (Rand.m_z >> 16)) & Rand.mask;\r\n        Rand.m_w = (18000 * (Rand.m_w & 65535) + (Rand.m_w >> 16)) & Rand.mask;\r\n        let result = ((Rand.m_z << 16) + (Rand.m_w & 65535)) >>> 0;\r\n        result /= 4294967296;\r\n        result = result * (max - min) + min;\r\n        return floor ? Math.floor(result) : result;\r\n    }\r\n    // Returns an item from an array\r\n    static pick(arr) {\r\n        return arr[Rand.between(0, arr.length, true)];\r\n    }\r\n    // Returns an item from an array\r\n    // The weight value is determined using the accessor function\r\n    // randomWeightedValue<NamePart>(nameParts, item => item.asRoot)\r\n    static weightedPick(arr, accessor, log = false) {\r\n        if (log)\r\n            console.log(arr);\r\n        // Get the max weight\r\n        const max = arr.reduce((total, item) => {\r\n            return total + accessor(item);\r\n        }, 0);\r\n        // Calculate a random number on the scale of max\r\n        let weight = Rand.between(0, max);\r\n        // For each item in the array, decrement max by that item's weight\r\n        let result;\r\n        arr.some((item) => {\r\n            weight -= accessor(item);\r\n            result = item;\r\n            return weight < 0;\r\n        });\r\n        return result;\r\n    }\r\n}\r\nRand.m_w = 123456789;\r\nRand.m_z = 987654321;\r\nRand.mask = 4294967295;\r\n","export default class Module {\r\n    constructor(realm) {\r\n        this._realm = realm;\r\n        this.run();\r\n    }\r\n    run() {\r\n        console.log('module base');\r\n    }\r\n}\r\n","import Module from '../Module';\r\nimport Rand from '../../Rand';\r\nexport var Direction;\r\n(function (Direction) {\r\n    Direction[\"NORTH\"] = \"north\";\r\n    Direction[\"NORTH_EAST\"] = \"north-east\";\r\n    Direction[\"EAST\"] = \"east\";\r\n    Direction[\"SOUTH_EAST\"] = \"south-east\";\r\n    Direction[\"SOUTH\"] = \"south\";\r\n    Direction[\"SOUTH_WEST\"] = \"south-west\";\r\n    Direction[\"WEST\"] = \"west\";\r\n    Direction[\"NORTH_WEST\"] = \"north-west\";\r\n})(Direction || (Direction = {}));\r\nexport class LocationModule extends Module {\r\n    constructor(realm) {\r\n        super(realm);\r\n        this.locationWithinParentEntity = Direction.NORTH;\r\n        this.directionToCoast = null;\r\n    }\r\n    run() {\r\n        this.locationWithinParentEntity = Rand.pick(Object.values(Direction));\r\n        // Add direction tags south-west => south, west\r\n        this._realm.addTag(this.locationWithinParentEntity);\r\n        // 40% chance to be coastal\r\n        if (Rand.next() < 0.4) {\r\n            this.directionToCoast = this.locationWithinParentEntity;\r\n            this._realm.addTag('coastal');\r\n        }\r\n    }\r\n}\r\n","import Module from '../Module';\r\nimport Rand from '../../Rand';\r\nexport var Size;\r\n(function (Size) {\r\n    Size[\"VERY_SMALL\"] = \"very small\";\r\n    Size[\"SMALL\"] = \"small\";\r\n    Size[\"MEDIUM_SIZED\"] = \"medium-sized\";\r\n    Size[\"LARGE\"] = \"large\";\r\n    Size[\"VERY_LARGE\"] = \"very large\";\r\n})(Size || (Size = {}));\r\nexport class SizeModule extends Module {\r\n    constructor(realm) {\r\n        super(realm);\r\n        this.size = Size.SMALL;\r\n    }\r\n    run() {\r\n        this.size = Rand.pick(Object.keys(Size));\r\n        this._realm.addTag(this.size == Size.VERY_SMALL ? 'city' : 'region');\r\n    }\r\n}\r\n","import { LocationModule } from '../modules/general/LocationModule';\r\nimport { SizeModule } from '../modules/geography/SizeModule';\r\nexport default class Realm {\r\n    constructor() {\r\n        // public parentEntity = new ParentEntityModule(this);\r\n        // public climate = new ClimateModule(this);\r\n        // public biomes = new BiomesModule(this);\r\n        // public rivers = new RiversModule(this);\r\n        // public heraldry = new HeraldryModule(this);\r\n        // public government = new GovernmentModule(this);\r\n        // Tags\r\n        this._tags = [];\r\n        this.runModuleSequence();\r\n    }\r\n    runModuleSequence() {\r\n        console.log(' === Running Module Sequence === ');\r\n        this.size = new SizeModule(this);\r\n        this.direction = new LocationModule(this);\r\n    }\r\n    addTag(tag) {\r\n        this._tags.push(tag);\r\n    }\r\n    get tags() {\r\n        return this._tags;\r\n    }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Rand from './Rand';\r\nimport Realm from './realm/Realm';\r\nRand.seed = Math.random().toString();\r\nRand.seedRandomNumberGenerator();\r\nlet realm = new Realm();\r\nconsole.log(realm);\r\n"],"names":[],"sourceRoot":""}